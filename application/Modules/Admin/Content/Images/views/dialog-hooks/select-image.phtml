<?php

namespace JetApplicationModule\Admin\Content\Images;

use Jet\MVC_View;
use Jet\UI;
use Jet\Tr;
use Jet\MVC;
use Jet\UI_dialog;

/**
 * @var MVC_View $this
 */

$dialog = UI::dialog( 'dialog_select_image', Tr::_( 'Select image' ), UI_dialog::SIZE_EXTRA_LARGE );
?>
	<script type="text/javascript">
		const dialog_select_image = {
			open: function (on_response) {
				dialog_select_image.on_response = on_response;
			},

			close: function () {
				$('#dialog_select_image').modal('hide');
			},

			response: function () {
				dialog_select_image.on_response();
				dialog_select_image.close();
			}
		};
	</script>


<?= $dialog->start() ?>
	<div style="display: inline-block;height: 500px">
		<iframe
				src="<?= MVC::getPage( 'dialog-select-image' )->getURLPath() ?>"
				id="dialog_select_image_frame"
				style="width: 750px;height: 500px;"
		></iframe>
	</div>
	<div style="display: inline-block;overflow: auto;width: 300px;height: 500px" id="dialog_select_image_selected_area">
	</div>
<?= $dialog->footer() ?>

	<button type="button"
	        id="dialog_select_image_select_button"
	        class="btn btn-primary btn-sm"
	        onclick="dialog_select_image.response()"
	><?= Tr::_( 'Select image' ) ?></button>

<?= $dialog->end() ?>