<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head> 
        <title>Dijit Tree with Checkboxes </title>     
        
        <link rel="stylesheet" href="/public/libs/dojo/1.7.2/dijit/themes/claro/claro.css" />
        <link rel="stylesheet" href="/public/libs/cbtree/themes/claro/cbtree.css" />
        
        <script type="text/javascript">
        var djConfig = {
		parseOnLoad:false,
		isDebug:false
        };
        </script>

        <script type="text/javascript" src="/public/libs/dojo/1.7.2/dojo/dojo.js"></script> 

        <script type="text/javascript">
			dojo.registerModulePath("cbtree","/public/libs/cbtree");
			dojo.require("dojo.data.ItemFileWriteStore");
			dojo.require("cbtree.CheckBoxTree");

		function myTree( domLocation ) {
			var store = new dojo.data.ItemFileWriteStore( {
				url: "/public/libs/cbtree/datastore/Family.json"
			});
			var model = new cbtree.CheckBoxStoreModel( {
							store: store,
							query: {type: 'parent'},
							rootLabel: 'The Family',
							checkboxAll:  true,
							checkboxRoot: true,
							checkboxState: true,
							checkboxStrict: true
							}); 
			var tree = new cbtree.CheckBoxTree( {
							model: model,
							id: "MenuTree",
							allowMultiState: true,
							branchIcons: true,
							nodeIcons: true
							});
			tree.placeAt( domLocation );
/*
			dojo.connect( tree,"onNodeChecked", function(storeItem, nodeWidget){
				if( !storeItem.root )
					alert( storeItem.name + " got checked..");
				else
					alert( storeItem.label + " got checked..");
				}
			);
*/
		}
		</script> 
	</head>
    
    <body class="claro">
		<div id="CheckboxTree">	
			<script type="text/javascript">
				myTree("CheckboxTree");
			</script>
		</div>
	</body> 
</html>